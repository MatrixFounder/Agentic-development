# Отчет по сравнению `skill-creator` (Active) и `skill-creator-ref` (Reference)

В данном отчете представлен детальный сравнительный анализ двух реализаций инструментария для создания навыков (Skills):
1.  **Active**: `[.agent/skills/skill-creator]` — текущая рабочая версия в проекте.
2.  **Reference**: `[docs/skill-creator-ref]` — референсная/образовательная версия (вероятно, исходный шаблон или версия от Anthropic).

---

## 1. Обзор Философии и Целей

| Параметр | Active (`.agent/skills/skill-creator`) | Reference (`docs/skill-creator-ref`) |
| :--- | :--- | :--- |
| **Основная цель** | **Производственная надежность**. Создание навыков, которые "заставляют" агента работать правильно, минимизируя галлюцинации и лень. | **Образование и Гибкость**. Обучение пользователя созданию навыков с упором на "прогрессивное раскрытие" контекста. |
| **Отношение к Агенту** | **Недоверие ("Agentic-Defensive")**. Агент ленив по умолчанию. Нужны жесткие инструкции, запрет слабых слов ("should", "could") и скрипты для любой логики > 5 строк. | **Доверие ("Context-First")**. Агент умен. Главное — не засорять контекст лишним и давать правильные уровни свободы ("Degrees of Freedom"). |
| **Система Тиров (Tiers)** | **Есть (0, 1, 2)**. Четкая интеграция с оркестратором для определения момента загрузки навыка. | **Нет**. Навык рассматривается как изолированный модуль. |
| **Формат поставки** | Директория с файлами (интегрирована в проект). | ZIP-архив `.skill` (через `package_skill.py`). |

---

## 2. Сравнение Структуры и Выходного Результата

Обе версии генерируют структуру папок, но состав директорий и их семантика отличаются.

| Директория/Файл | Active (Результат) | Reference (Результат) | Комментарий |
| :--- | :--- | :--- | :--- |
| **`SKILL.md`** | Строгий шаблон. Обязателен раздел "Red Flags". Запрет inline-кода > 12 строк. | Гибкий шаблон. Упор на "Progressive Disclosure". Примеры структур (Workflow, Task-based). |
| **`scripts/`** | **Обязательно**, если логика сложнее 5 строк. Утилиты на Python. | Опционально. Для надежности и повторяемости. | Active принуждает к использованию скриптов. |
| **`examples/`** | **ЕСТЬ**. Для Few-Shot примеров (User Stories, Input/Output). | **НЕТ** (в корне). Примеры смешаны с `references/` или `assets/`. | Active выделяет примеры как ключевой элемент для Few-Shot learning. |
| **`resources/`** | **ЕСТЬ**. Шаблоны, статика, lookup-таблицы. | **НЕТ** (заменено на `references` и `assets`). |
| **`references/`** | Нет (входит в `resources`). | **ЕСТЬ**. Документация, API specs, схемы БД. | Reference разделяет "знания" (references) и "файлы для вывода" (assets). |
| **`assets/`** | Нет (входит в `resources`). | **ЕСТЬ**. Файлы, которые агент должен отдать пользователю (логотипы, шрифты). | Reference выделяет файлы для *использования* агентом (output). |
| **`examples/` (внутри)** | Строгие файлы примеров кода/кейсов. | Отсутствует как отдельная категория. |

> [!NOTE]
> С семантической точки зрения имена папок — это "диалекты" разных вендоров. Суть разделения едина:
> 1.  **Context/Guidelines** (`references` в Ref / `resources` в Active) — инструкции, шаблоны, знания.
> 2.  **Examples/Material** (`assets` в Ref / `examples` в Active) — конкретные примеры, файлы для вывода или демонстрации.

---

## 3. Сравнение Инструментария (Scripts)

### `init_skill.py` (Инициализация)
*   **Active**:
    *   Принимает аргумент `--tier`.
    *   Использует локальный конфиг проекта (`config.get('project_config')`).
    *   Создает `examples/usage_example.md` и `resources/template.txt`.
    *   Предлагает обновить каталог навыков (`catalog_file`).
*   **Reference**:
    *   Более простой CLI: только `name` и `path`.
    *   Генерирует `references/api_reference.md` и `assets/example_asset.txt`.
    *   Шаблон `SKILL.md` содержит обширные комментарии-туториалы (TODO), которые нужно удалять.

### Валидация vs Упаковка
*   **Active (`validate_skill.py`)**:
    *   **Строгий линтер**. Проверяет Frontmatter, длину строк, наличие запрещенных слов ("should"), структуру папок.
    *   Гарантирует соответствие "Gold Standard" Antigravity.
*   **Reference (`package_skill.py`)**:
    *   **Упаковщик**. Валидирует базовую структуру и затем пакует навык в ZIP-файл.
    *   Предназначен для *дистрибуции* навыков (передача другим пользователям).

---

## 4. Плюсы и Минусы

### Active (`.agent/skills/skill-creator`)

**Плюсы:**
*   **Высокая надежность исполнения**: "Script-First" подход минимизирует ошибки агента в сложной логике.
*   **Интеграция с проектом**: Учитывает Tier-систему и Project Config.
*   **Экономия токенов**: Жесткое правило "12 строк" заставляет выносить большие куски в файлы, которые читаются только по требованию.
*   **Отсутствие двусмысленности**: Императивный язык исключает "лень" модели.

**Минусы:**
*   **Высокий порог входа**: Требует строгого соблюдения правил (Tier, Frontmatter, Red Flags).
*   **Меньше гибкости**: Не подходит для простых "текстовых" памяток.

### Reference (`docs/skill-creator-ref`)

**Плюсы:**
*   **Обучающая ценность**: Отлично объясняет *почему* и *как* структурировать навыки (шаблоны Task-based, Capability-based).
*   **Логичное разделение данных**: Разделение на `references` (читать) и `assets` (отдавать) семантически очень чистое.
*   **Портативность**: Создает ZIP-файлы, готовые к пересылке.

**Минусы:**
*   **Риск "ленивого" агента**: Разрешает "High freedom" инструкции, где агент может начать галлюцинировать.
*   **Размытая структура примеров**: Смешивание "того, что знать" и "того, что отдать" может быть менее очевидно для агента, чем явная папка `examples/`.

---

## 5. Заключение: Разница в Эффективности

1.  **Для сложной разработки (Antigravity)**: Версия **Active** эффективнее. Она создает навыки, которые работают как "инженерные модули" — предсказуемо, тестируемо, с защитой от дурака. Разделение на `examples` (для обучения агента) и `resources` (для использования) более прагматично для кодинга.
2.  **Для документации и Knowledge Base**: Версия **Reference** логичнее. Структура `references/` идеально подходит для загрузки больших объемов пассивных знаний (API Docs), а `assets/` — для генерации контента.

**Общий вывод**:
Разница в нейминге папок вторична. Главное — семантическое разделение.
Текущий стандарт **Active** покрывает потребности "Examples" через `examples/` и "Guidelines" через `resources/`. Внедрение `assets/` имеет смысл только если мы начнем активно генерировать бинарные файлы (картинки, PDF) для пользователя, но пока `resources/` справляется с этой ролью (хранение шаблонов).

**Рекомендация**:
Оставить **Active** (`.agent/skills/skill-creator`) как основной стандарт. Он обеспечивает более жесткий контроль над поведением агента за счет разделения на "обучающие примеры" (`examples`) и "рабочие ресурсы" (`resources`), что критично для автономной работы.
