---
name: planning-decision-tree
description: Дерево решений для декомпозиции задач и приоритезации работы.
version: 1.1
---
# Дерево Решений Планирования (Planning Decision Tree)

## 1. Стратегия Декомпозиции Задач

### Основная Логика: Stub-First & E2E
**КРИТИЧЕСКИ ВАЖНО:** Вы должны разбивать каждое функциональное требование на два различных типа задач:

1. **Фаза 1: Структура и Заглушки (Structure & Stubs)**
   - **Цель:** Создать структуру файлов, определения классов, сигнатуры методов и **ЗАГЛУШКИ**.
   - **Действие:** `return None` или хардкодные значения.
   - **Проверка:** Написать E2E тест, который проходит на этих заглушках (проверяя хардкодные значения).
   - **Тег задачи:** `[STUB CREATION]`

2. **Фаза 2: Реализация Логики (Logic Implementation)**
   - **Цель:** Заменить заглушки реальной логикой.
   - **Действие:** Реализовать алгоритмы, запросы к БД, вызовы API.
   - **Проверка:** Обновить E2E тест для проверки реальных значений. Добавить Юнит-тесты.
   - **Тег задачи:** `[LOGIC IMPLEMENTATION]`

**Правило Решения:**
- ЕСЛИ задача включает написание кода -> Разбить на Stub + Impl.
- ЕСЛИ задача настроечная/конфигурация -> Одна задача.

## 2. Уровни Декомпозиции
- **Слишком Сложно?** (напр., "Реализовать Auth") -> Разбить на "Модель Пользователя", "Сервис Регистрации", "Сервис Входа".
- **Слишком Просто?** (напр., "Добавить одно поле") -> Объединить со связанными задачами, если это безопасно.
- **Зависимости?** -> Планируйте зависимости (Модели, БД) ПЕРЕД зависимыми сервисами.

## 3. Правила Конкретности
- **Для Новых Проектов:** Опредилите структуру директорий, имена классов, сигнатуры методов.
- **Для Модификаций:** Укажите **точные пути к файлам** и **методы**, которые нужно изменить.

## 4. Приоритезация
1. **Критично:** Ядро Архитектуры, Блокеры, Схемы БД.
2. **Высокий:** Основная Бизнес-Логика (Stub -> Impl).
3. **Средний:** Граничные случаи, Обработка ошибок.
